<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Dodger: Pixel Art Space Adventure</title>
    <style>
        body, html {
            margin: 0;
            height: 100%;
            font-family: 'Courier New', monospace;
            background: #001c38;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            overflow: hidden;
        }
        .game-container {
            text-align: center;
            position: relative;
        }
        .game-title {
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
        }
        .score-board {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 18px;
        }
        #game-canvas {
            border: 2px solid #fff;
            cursor: none;
        }
        #start-button {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 30px #00ffff;
            animation: glow 1.5s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff, 0 0 30px #00ffff; }
            to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff, 0 0 40px #00ffff; }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-title">Cosmic Dodger</div>
        <div class="score-board">
            <div>High Score: <span id="high-score">0</span></div>
            <div>Score: <span id="current-score">0</span></div>
        </div>
        <canvas id="game-canvas" width="400" height="600"></canvas>
        <button id="start-button">START</button>
    </div>

    <script>
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        const highScoreElement = document.getElementById('high-score');
        const currentScoreElement = document.getElementById('current-score');
        const startButton = document.getElementById('start-button');

        let highScore = 0, currentScore = 0, gameSpeed = 3, gameFrame = 0, gameActive = false;
        const rocket = { x: canvas.width / 2 - 15, y: canvas.height - 50, width: 30, height: 40 };
        const stars = [], obstacles = [];
        const planets = [
            {x: 250, y: 550, radius: 60, type: 'earth', angle: 0, speed: 0.002},
            {x: 150, y: 50, radius: 40, type: 'mars', angle: Math.PI, speed: 0.003}
        ];

        const colorMaps = {
            rocket: { r: '#ff6b6b', R: '#ff4757', W: '#ffffff', o: '#feca57' },
            asteroid: { g: '#7f8c8d', G: '#95a5a6' },
            comet: { b: '#48dbfb', B: '#0abde3', W: '#ffffff' },
            earth: { B: '#2980b9', b: '#3498db', G: '#27ae60' },
            mars: { R: '#c0392b', r: '#e74c3c' }
        };

        function drawPixelArt(x, y, pixelSize, colorArray, colorMap) {
            colorArray.forEach((row, i) => {
                row.forEach((pixel, j) => {
                    if (pixel !== 'x') {
                        ctx.fillStyle = colorMap[pixel];
                        ctx.fillRect(x + j * pixelSize, y + i * pixelSize, pixelSize, pixelSize);
                    }
                });
            });
        }

        function drawObject(object, pixelArray, colorMap, pixelSize) {
            drawPixelArt(object.x, object.y, pixelSize, pixelArray, colorMap);
        }

        const objectPixels = {
            rocket: [
                ['x','x','r','x','x'],
                ['x','r','R','r','x'],
                ['r','R','W','R','r'],
                ['R','W','W','W','R'],
                ['R','W','W','W','R'],
                ['x','o','x','o','x']
            ],
            asteroid: [
                ['x','g','G','x'],
                ['g','G','G','g'],
                ['G','G','g','G'],
                ['x','G','g','x']
            ],
            comet: [
                ['x','x','b','B','x','x'],
                ['x','b','B','B','b','x'],
                ['b','B','W','B','B','b'],
                ['B','W','W','W','B','B'],
                ['B','W','W','W','B','B'],
                ['x','B','B','B','B','x']
            ],
            earth: [
                ['x','x','B','B','B','B','x','x'],
                ['x','B','b','b','b','b','B','x'],
                ['B','b','G','b','G','G','b','B'],
                ['B','b','G','G','b','G','b','B'],
                ['B','b','G','G','G','b','b','B'],
                ['B','b','b','G','G','G','b','B'],
                ['x','B','b','b','b','b','B','x'],
                ['x','x','B','B','B','B','x','x']
            ],
            mars: [
                ['x','x','R','R','R','x','x'],
                ['x','R','r','r','r','R','x'],
                ['R','r','r','r','r','r','R'],
                ['R','r','r','r','r','r','R'],
                ['R','r','r','r','r','r','R'],
                ['x','R','r','r','r','R','x'],
                ['x','x','R','R','R','x','x']
            ]
        };

        function drawStar(star) {
            ctx.fillStyle = star.color;
            ctx.fillRect(star.x, star.y, star.size, star.size);
        }

        function drawPlanet(planet) {
            const centerX = planet.x + Math.cos(planet.angle) * 20;
            const centerY = planet.y + Math.sin(planet.angle) * 20;
            drawPixelArt(centerX - planet.radius, centerY - planet.radius, planet.radius / (planet.type === 'earth' ? 4 : 3.5), objectPixels[planet.type], colorMaps[planet.type]);
        }

        function createStar() {
            stars.push({
                x: Math.random() * canvas.width,
                y: 0,
                size: Math.random() * 3 + 1,
                speed: Math.random() * 3 + 1,
                color: `rgb(${Math.random() * 100 + 155}, ${Math.random() * 100 + 155}, ${Math.random() * 55 + 200})`
            });
        }

        function createObstacle() {
            const isComet = Math.random() < 0.3;
            obstacles.push({
                x: Math.random() * (canvas.width - (isComet ? 36 : 24)),
                y: 0,
                width: isComet ? 36 : 24,
                height: isComet ? 36 : 24,
                speed: isComet ? gameSpeed * 1.5 : gameSpeed,
                type: isComet ? 'comet' : 'asteroid'
            });
        }

        function updateGameState() {
            if (!gameActive) return;

            stars.forEach((star, index) => {
                star.y += star.speed;
                if (star.y > canvas.height) stars.splice(index, 1);
            });

            obstacles.forEach((obstacle, index) => {
                obstacle.y += obstacle.speed;
                if (obstacle.y > canvas.height) {
                    obstacles.splice(index, 1);
                    currentScore++;
                    currentScoreElement.textContent = currentScore;
                    if (currentScore > highScore) {
                        highScore = currentScore;
                        highScoreElement.textContent = highScore;
                    }
                }

                if (
                    rocket.x < obstacle.x + obstacle.width &&
                    rocket.x + rocket.width > obstacle.x &&
                    rocket.y < obstacle.y + obstacle.height &&
                    rocket.y + rocket.height > obstacle.y
                ) {
                    gameOver();
                }
            });

            planets.forEach(planet => planet.angle += planet.speed);

            if (gameFrame % 300 === 0) gameSpeed += 0.5;
        }

        function gameOver() {
            gameActive = false;
            ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Courier New';
            ctx.textAlign = 'center';
            ctx.fillText('GAME OVER!', canvas.width / 2, canvas.height / 2);
            startButton.style.display = 'block';
        }

        function startGame() {
            currentScore = 0;
            gameSpeed = 3;
            gameFrame = 0;
            obstacles.length = 0;
            currentScoreElement.textContent = currentScore;
            gameActive = true;
            startButton.style.display = 'none';
            gameLoop();
        }

        function gameLoop() {
            ctx.fillStyle = '#001c38';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const gradient = ctx.createRadialGradient(200, 300, 50, 200, 300, 300);
            gradient.addColorStop(0, 'rgba(155, 89, 182, 0.2)');
            gradient.addColorStop(1, 'rgba(155, 89, 182, 0)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            planets.forEach(drawPlanet);

            if (gameFrame % 10 === 0) createStar();
            stars.forEach(drawStar);

            if (gameActive && gameFrame % 40 === 0) createObstacle();
            obstacles.forEach(obstacle => drawObject(obstacle, objectPixels[obstacle.type], colorMaps[obstacle.type], 6));

            drawObject(rocket, objectPixels.rocket, colorMaps.rocket, 6);
            updateGameState();

            gameFrame++;
            if (gameActive) requestAnimationFrame(gameLoop);
        }

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            rocket.x = e.clientX - rect.left - rocket.width / 2;
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            rocket.x = e.touches[0].clientX - rect.left - rocket.width / 2;
        });

        startButton.addEventListener('click', startGame);

        planets.forEach(drawPlanet);
        drawObject(rocket, objectPixels.rocket, colorMaps.rocket, 6);
    </script>
</body>
</html>